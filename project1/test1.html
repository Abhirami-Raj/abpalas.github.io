<!DOCTYPE html>
<html>
<head>
	<title>Project 1 - sample code 2</title>
	<script type="text/javascript" src="https://d3js.org//d3.v3.min.js"></script>
	<script src="//d3js.org/d3.v4.js"></script>
	<style>
    	text { 
			font-family: Arial; 
			font-size: 15px;
		}
		.axis path, .axis line {
			fill: none;
			stroke: black;
			shape-rendering: crispEdges;
		}
		.tick text {
			fill: black;
			font-size: 11px;
		}

		rect {
			stroke: white;
		}
	</style>
</head>
<body>
<class="container-fluid">
  <div class="row">
	  <h3>&nbsp Dr. John Snow's Map of London's 1854 cholera epidemic &nbsp&nbsp&nbsp&nbsp&nbsp <a href=documentation.html>Documentation<html></html></h3>
  </div>

  <div class="row">
	<div class="col-lg-8" id="main_panel">
	</div>
  </div>
</div>
	
<svg id="main" width="600" height="600">
		<text id='label' x='20' y='20'>Streets Map</text>
		<g transform="translate(30,40)"></g>
	</svg>
	
	<script>
	var width = 600
	var height = 600
	
	 var svgContainer = d3.select("#main_panel")
      //.append("svg")
      .attr("width", width)
      .attr("height", height);//.style("border", "0.5px solid #C0C0C0")
   /*  // .attr("x", "20px")
      //.attr("y", "20px")
      //.call(d3.zoom().on("zoom", function() {svgContainer.attr("transform", d3.event.transform)}))
      .append("g");
	  */
	  
	function drawStreetMap()
	{
	
	
	
		d3.json('data/streets.json',function(error, streets) {
				streets.forEach(function(data){
					
					var lineCoords=d3.svg.line()
					.x(function(d) {return d.x*30;})
					.y(function(d) {return height-d.y*30;})
					.interpolate("linear");  
					
				lineCoords(data);
				var g = d3.select('svg').select('g');
				//var svgPath = svgContainer
				//.attr("d", geoPath(lineCoords)).style("stroke", "#1c9099").attr("vector-effect", "non-scaling-stroke")
				//.attr("x", "-20px")
				//.attr("y", "20px")
				g.selectAll('path')
				.append("path")
				.attr('stroke', 'steelblue')
    			.attr('stroke-width', '3px')
				.attr("fill", "none")
				.attr("d", lineCoords(data))
			//svgPath.attr("d", lineCoords(data));
			
				})
		});
		
			
			d3.csv('data/pumps.csv',function(error, pumps) {
			var g = d3.select('svg').select('g');
			//var svgpump = svgContainer
			g.selectAll('circle')
					.data(pumps)
					.enter()
					.append('circle')
					//var svgpump = svgContainer
					//.append('circle')
					.style('fill', 'red')
					.attr('r', 10)
					.attr('cx', function(d) {return d.x*30; })
					.attr('cy', function(d) {return height-d.y*30; });
				//svgpump.attr("d", pumpcoords(data))
					//svgpump.attr('cx', function(d) {return d.x*30; })
					//svgpump.attr('cy', function(d) {return height-d.y*30; });
					});
					
	}
	drawStreetMap();
	
	</script>
</body>


</htm